<?php

return [

    /*
    |--------------------------------------------------------------------------
    | Ścieżki objęte CORS
    |--------------------------------------------------------------------------
    */
    'paths' => ['api/*', 'sanctum/csrf-cookie'],

    /*
    |--------------------------------------------------------------------------
    | Dozwolone metody
    |--------------------------------------------------------------------------
    */
    'allowed_methods' => ['*'],

    /*
    |--------------------------------------------------------------------------
    | Dozwolone originy
    |--------------------------------------------------------------------------
    | Na start możesz użyć '*', a potem zawęzić ENV-em.
    */
    'allowed_origins' => array_map('trim', explode(',', env('CORS_ALLOWED_ORIGINS', '*'))),

    /*
    |--------------------------------------------------------------------------
    | Wzorce originów (regex)
    |--------------------------------------------------------------------------
    */
    'allowed_origins_patterns' => [],

    /*
    |--------------------------------------------------------------------------
    | Dozwolone nagłówki
    |--------------------------------------------------------------------------
    */
    'allowed_headers' => array_map('trim', explode(',', env('CORS_ALLOWED_HEADERS', '*'))),

    /*
    |--------------------------------------------------------------------------
    | Nagłówki eksponowane do klienta
    |--------------------------------------------------------------------------
    */
    'exposed_headers' => array_map('trim', explode(',', env('CORS_EXPOSED_HEADERS', ''))),

    /*
    |--------------------------------------------------------------------------
    | Cache preflight (sekundy)
    |--------------------------------------------------------------------------
    */
    'max_age' => (int) env('CORS_MAX_AGE', 0),

    /*
    |--------------------------------------------------------------------------
    | Wsparcie ciasteczek (credentials)
    |--------------------------------------------------------------------------
    | Ustaw na true tylko jeśli używasz ciasteczek (np. Sanctum) i
    | zamiast '*' w origins wpiszesz konkretne domeny.
    */
    'supports_credentials' => filter_var(env('CORS_SUPPORTS_CREDENTIALS', false), FILTER_VALIDATE_BOOL),

];
